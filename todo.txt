
# Rebalance the threads on the fly as the stack expires.  
# 1) recaculate all thread piles
# 2) EASIER: Only when thread expires, take one from another stack.  (ok because low CPU usage).  Should pop finished from the stack immedietely to ensure not taking completed item. Should pop moved items from the stack also.

# Branch the repo for the USPTO while I work on the database optimization.
# Look at building a front-end for the python UI using tinkr or other front end.

# Are the zip files being discraded to free memory efficiently properly?

# Write a thread process that checks the system CPU and then uses $ top command to check load average for the longest avaiable moving average.  Then, start new threads if the load average drops below 50% until it stays around 75%-80%.

# Run a python script from within the USPTO parser to check a timestamp every 20 minutes and restart the whole thing if the timestamp is expired.

# Write a function that can create separate threads for the GPU
https://stackoverflow.com/questions/5957554/python-gpu-programming
https://www.youtube.com/watch?v=jKV1m8APttU
https://www.youtube.com/watch?v=dPQnFXD7DxM

# Address the Bottleneck caused by inserting data row by row:  
# 1) Build CSV files in a data memory object such as list variable in python,  
# 2) When the data object reaches a size (say 100mb or the contents of one file) write them to csv file and insert into database dependind on flags set 
# when the program was instantiated.

# TODO: make a config file with: number_of_threads, database config, and other required info.  Read the config file into the program at runtime.

# try to check if database error is "row already exists and don't log or stdout that error message." 


# TODO: withdrawn patent file into database
# TODO: UPC to CPC concordance table
# TODO: UPC class names and definitions
# TODO:


# TODO: FREF .. APS manual missed ICL as a possible datatype.
Also OCL is not required.  It's not included all the time.

#TODO: how to fix class numbers like this????: Mark as malformed and build scraper to fix later.
# Sometimes length too long (period missing)

XCL  12356821

# Sometimes length too short (this case, class is first two, subclass is last 3)
XCL 29234

TODO: XCL/OCL class with array length 3 when split(" ")
TODO: ICL with only 4 characters.

# TODO: malformed class, main class is 29.  lstrip()????? to find the non-existant leading zero??
OCL   29596
XCL   29606
XCL   29609
XCL  310 42
XCL  310259
EDF  7
ICL  H02K 1509
FSC   29
FSS  596;598;609;606
FSC  310
FSS  42;43;259

#TODO: check this patent number 61675695 class parsing - SHOULD BE FIXED NOW

#TODO: CLMS not found in 2001 file, but may be included in other files. need to parse.
#TODO: DETD not found in 2001 files, but may be included in other year files. need to parse.
#TODO: BSUM not found in 2001 file, but may be included in other year files.  Need to parse.
